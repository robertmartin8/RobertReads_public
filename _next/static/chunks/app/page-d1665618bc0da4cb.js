(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{8307:(e,t,s)=>{Promise.resolve().then(s.bind(s,6383))},6383:(e,t,s)=>{"use strict";s.d(t,{default:()=>eg});var r=s(8192),a=s(6444),l=s(3533),o=s(2368),n=s(1817),i=s(3609),c=s(5649),d=s(1924);function m(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,d.QP)((0,c.$)(t))}let u=(0,i.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function x(e){let{className:t,variant:s,...a}=e;return(0,r.jsx)("div",{className:m(u({variant:s}),t),...a})}function h(e){let{title:t,author:s}=e,a=(()=>{let e=Math.floor(360*Math.random());return"hsl(".concat(e,", 70%, 80%)")})();return(0,r.jsxs)("div",{style:{backgroundColor:a,backgroundImage:"url('/paper-texture.png')",backgroundBlendMode:"multiply",position:"relative",width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",padding:"1rem",boxSizing:"border-box",color:"#fff",textShadow:"0 2px 4px rgba(0,0,0,0.3)",overflow:"hidden"},children:[(0,r.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,height:"30px",background:"rgba(0,0,0,0.1)"}}),(0,r.jsx)("h2",{style:{fontSize:"1.2rem",fontWeight:"bold",marginBottom:"0.5rem",lineHeight:1.2,fontFamily:"var(--font-serif)"},children:t}),(0,r.jsx)("p",{style:{fontSize:"0.9rem",opacity:.9,fontFamily:"var(--font-serif)"},children:s})]})}function f(e){let{book:t,onClick:s}=e;return(0,r.jsxs)("div",{className:"group flex flex-col",children:[(0,r.jsxs)("div",{className:"book-container cursor-pointer",onClick:()=>s(t),role:"button",tabIndex:0,"aria-label":"View details for ".concat(t.title," by ").concat(t.author),onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),s(t))},children:[(0,r.jsxs)("span",{className:"sr-only",children:[t.title," ",t.author]}),(0,r.jsx)("div",{className:"book",children:(0,r.jsx)("div",{className:"book-cover",children:t.coverUrl?(0,r.jsx)(o.default,{src:t.coverUrl,alt:"".concat(t.title," by ").concat(t.author),fill:!0,className:"object-cover",sizes:"(max-width: 640px) 50vw, (max-width: 768px) 33vw, (max-width: 1024px) 25vw, 16vw",priority:!0,loading:"eager"}):(0,r.jsx)(h,{title:t.title,author:t.author})})})]}),(0,r.jsxs)("div",{className:"mt-3 flex flex-col space-y-1",children:[(0,r.jsx)("div",{className:"flex items-center space-x-1",children:Array.from({length:5}).map((e,s)=>(0,r.jsx)(n.A,{className:m("h-3 w-3",s<Math.floor(t.rating)?"fill-primary text-primary":s<Math.ceil(t.rating)&&t.rating%1!=0?"fill-primary/50 text-primary":"fill-muted text-muted-foreground")},s))}),(0,r.jsx)("div",{className:"flex flex-wrap gap-1 mt-1",children:t.categories.map(e=>(0,r.jsx)(x,{variant:"outline",className:"text-[10px] px-1 py-0",children:e},e))}),(0,r.jsx)("p",{className:"text-sm line-clamp-3 mt-1 text-muted-foreground",children:t.review})]})]})}var p=s(4423),g=s(2230),b=s(3270),j=s(9238),y=s(2900),v=s(5996),N=s(1893),w=s(3608),k=s.n(w),A=s(2203);let S=(0,i.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),C=a.forwardRef((e,t)=>{let{className:s,variant:a,size:l,asChild:o=!1,...n}=e,i=o?A.DX:"button";return(0,r.jsx)(i,{className:m(S({variant:a,size:l,className:s})),ref:t,...n})});C.displayName="Button";var R=s(736);function L(e){let{className:t}=e;return(0,r.jsx)("svg",{viewBox:"0 0 24 24","aria-hidden":"true",className:m("h-4 w-4",t),fill:"currentColor",children:(0,r.jsx)("path",{d:"M13.3174 10.7749L19.1457 4H17.7646L12.7039 9.88126L8.66193 4H4L10.1122 12.8955L4 20H5.38119L10.7254 13.7887L14.994 20H19.656L13.3171 10.7749H13.3174ZM11.4257 12.9738L10.8064 12.0881L5.87886 5.03974H8.00029L11.9769 10.728L12.5962 11.6137L17.7652 19.0075H15.6438L11.4257 12.9742V12.9738Z"})})}function _(e){return e?new Date(e).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}).replace(/(\d+)(?=(,|$))/,e=>{let t=parseInt(e),s=["th","st","nd","rd"][t%10>3||1===Math.floor(t/10)?0:t%10];return t+s}):""}function z(e){let{book:t,onClose:s}=e,[i,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)(!1),h=(0,l.useRouter)(),f=(0,a.useRef)(null),w=(0,a.useRef)(null);(0,a.useEffect)(()=>{if(t){c(!0);let e=window.scrollY;document.body.style.position="fixed",document.body.style.top="-".concat(e,"px"),document.body.style.width="100%";let t=e=>{"Escape"===e.key&&A()};window.addEventListener("keydown",t);let s=e=>{let t=e.target.closest("a");if(t&&"A"===t.tagName){let s=t.getAttribute("href");s&&s.startsWith("/?books=")&&(e.preventDefault(),h.push(s))}},r=f.current,a=w.current;return r&&r.addEventListener("click",s),a&&a.addEventListener("click",s),()=>{document.body.style.position="",document.body.style.top="",document.body.style.width="",window.scrollTo(0,e),window.removeEventListener("keydown",t),r&&r.removeEventListener("click",s),a&&a.removeEventListener("click",s)}}c(!1)},[t,h]);let A=()=>{c(!1),setTimeout(s,300)},S=()=>{if(!t)return;let e='I read "'.concat(t.title,'" by ').concat(t.author),s="".concat(window.location.origin,"/?book=").concat(t.id);window.open("https://x.com/intent/tweet?text=".concat(encodeURIComponent(e),"&url=").concat(encodeURIComponent(s)),"_blank")},z=()=>{if(!t)return;let e="Book Recommendation: ".concat(t.title),s='I thought you might enjoy this book:\n\n"'.concat(t.title,'" by ').concat(t.author,"\n\n").concat(t.review,"\n\nCheck it out here: ").concat(window.location.origin,"/?book=").concat(t.id);window.location.href="mailto:?subject=".concat(encodeURIComponent(e),"&body=").concat(encodeURIComponent(s))},M=()=>{if(!t)return;let e="".concat(window.location.origin,"/?book=").concat(t.id);navigator.clipboard.writeText(e).then(()=>{u(!0),R.oR.success("Link copied to clipboard"),setTimeout(()=>{u(!1)},2e3)}).catch(e=>{console.error("Could not copy text: ",e),R.oR.error("Failed to copy link")})};return t?(0,r.jsxs)("div",{className:m("fixed inset-0 z-[9999] flex items-center justify-center bg-black/50 backdrop-blur-sm transition-opacity duration-300",i?"opacity-100":"opacity-0"),children:[(0,r.jsx)("div",{className:"absolute inset-0",onClick:A}),(0,r.jsxs)("div",{className:m("book-detail-container bg-background w-[95vw] max-w-[1400px] max-h-[98vh] overflow-hidden z-10 transition-all duration-300 transform",i?"scale-100 rotate-0":"scale-95 rotate-2"),children:[(0,r.jsx)("button",{onClick:A,className:"absolute top-6 right-6 z-20 bg-background/90 rounded-full p-1.5 shadow-sm hover:bg-background transition-colors","aria-label":"Close book",children:(0,r.jsx)(p.A,{className:"h-5 w-5"})}),(0,r.jsxs)("div",{className:"hidden max-lg:hidden lg:flex book-open",children:[(0,r.jsx)("div",{className:"book-left-page",children:(0,r.jsxs)("div",{className:"publisher-page flex flex-col h-full",children:[(0,r.jsxs)("div",{className:"book-title-area mt-12",children:[(0,r.jsx)("h2",{className:"text-3xl font-bold mb-2",children:t.title}),(0,r.jsx)("p",{className:"text-xl mb-8 text-foreground/80",children:t.author})]}),(0,r.jsxs)("div",{className:"book-metadata mt-auto mb-4",children:[(0,r.jsx)("div",{className:"mb-6",children:(0,r.jsx)("div",{className:"flex flex-wrap gap-1.5",children:t.categories.map(e=>(0,r.jsx)(x,{variant:"outline",className:"text-xs px-2 py-0.5",children:e},e))})}),(0,r.jsx)("div",{className:"mb-6",children:(0,r.jsx)("div",{className:"flex items-center space-x-1",children:Array.from({length:5}).map((e,s)=>(0,r.jsx)(n.A,{className:m("h-4 w-4",s<Math.floor(t.rating)?"fill-foreground text-foreground":s<Math.ceil(t.rating)&&t.rating%1!=0?"fill-foreground/50 text-foreground/50":"fill-muted text-muted-foreground")},s))})}),(0,r.jsx)("div",{className:"mb-3",children:(0,r.jsx)("p",{className:"text-foreground/80",children:t.review})}),(0,r.jsxs)("div",{className:"mb-4",children:[t.lastRead&&(0,r.jsxs)("p",{className:"text-sm text-muted-foreground italic mb-0 leading-tight",children:["Last read: ",_(t.lastRead)]}),t.publishDate&&(0,r.jsxs)("p",{className:"text-sm text-muted-foreground italic leading-tight",children:["Reviewed: ",_(t.publishDate)]})]}),(0,r.jsx)("div",{className:"mb-0",children:(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsxs)(C,{variant:"outline",size:"sm",className:"h-8 w-8 p-0 rounded-full",onClick:S,title:"Share on X.com",children:[(0,r.jsx)(L,{}),(0,r.jsx)("span",{className:"sr-only",children:"Share on X"})]}),(0,r.jsxs)(C,{variant:"outline",size:"sm",className:"h-8 w-8 p-0 rounded-full",onClick:z,title:"Share by email",children:[(0,r.jsx)(g.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Share by email"})]}),(0,r.jsxs)(C,{variant:"outline",size:"sm",className:m("h-8 w-8 p-0 rounded-full transition-colors",d&&"bg-primary text-primary-foreground"),onClick:M,title:"Copy link",children:[(0,r.jsx)(b.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Copy link"})]})]})})]}),(0,r.jsx)("div",{className:"flex justify-center pt-2 mb-2",children:(0,r.jsx)(o.default,{src:"/delta_logo.png",alt:"Publisher logo",width:40,height:40,className:"rounded-full"})})]})}),(0,r.jsx)("div",{className:"book-spine",children:(0,r.jsx)("div",{className:"spine-texture"})}),(0,r.jsx)("div",{className:"book-right-page",ref:f,children:(0,r.jsx)("div",{className:"book-content prose dark:prose-invert max-w-none prose-ul:my-2 prose-li:my-1 prose-li:leading-normal",children:t.preRenderedContent?(0,r.jsx)("div",{dangerouslySetInnerHTML:{__html:t.preRenderedContent}}):t.fullReview?(0,r.jsx)(j.oz,{remarkPlugins:[y.A],rehypePlugins:[v.A,N.A],components:{a:e=>{let{node:t,href:s,...a}=e;if((null==s?void 0:s.startsWith("/books/"))||(null==s?void 0:s.startsWith("/?books="))){let e=s.startsWith("/books/")?"/?books=".concat(s.replace("/books/","")):s;return(0,r.jsx)(k(),{href:e,className:"text-[#5C14A4] dark:text-[#9747FF] hover:underline font-medium italic",...a})}return(0,r.jsx)("a",{href:s,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",...a})},details:e=>{let{node:t,...s}=e;return(0,r.jsx)("details",{className:"my-4 border border-border rounded-lg",...s})},summary:e=>{let{node:t,children:s,...a}=e;return(0,r.jsx)("summary",{className:"p-4 cursor-pointer hover:bg-muted/50 font-medium flex items-center",...a,children:(0,r.jsx)("div",{className:"inline",children:(0,r.jsx)(j.oz,{remarkPlugins:[y.A],components:{p:e=>{let{children:t}=e;return(0,r.jsx)(r.Fragment,{children:t})}},children:String(s).replace(/[▼▶]/g,"")})})})},p:e=>{let{children:t}=e;return"..."===String(t).trim()?(0,r.jsx)("div",{className:"my-6 text-center text-muted-foreground text-lg tracking-wider",children:"\xb7\xb7\xb7"}):(0,r.jsx)("p",{className:"my-4",children:t})},h1:e=>{let{node:t,...s}=e;return(0,r.jsx)("h1",{...s,className:"text-2xl font-bold mt-8 mb-4"})},h2:e=>{let{node:t,...s}=e;return(0,r.jsx)("h2",{...s,className:"text-xl font-bold mt-6 mb-3"})},h3:e=>{let{node:t,...s}=e;return(0,r.jsx)("h3",{...s,className:"text-lg font-bold mt-4 mb-2"})},ul:e=>{let{node:t,...s}=e;return(0,r.jsx)("ul",{...s,className:"list-disc pl-6 my-4 text-foreground marker:text-foreground [&_ul]:mt-1 [&_ul]:mb-1"})},ol:e=>{let{node:t,...s}=e;return(0,r.jsx)("ol",{...s,className:"list-decimal pl-6 my-4 text-foreground marker:text-foreground [&_ol]:mt-1 [&_ol]:mb-1"})},code:e=>{let{children:t,className:s,...a}=e;return/language-(\w+)/.exec(s||"")?(0,r.jsx)("code",{className:"block bg-muted p-4 rounded-lg my-4 overflow-x-auto",...a,children:t}):(0,r.jsx)("code",{className:"bg-muted px-1.5 py-0.5 rounded text-sm",...a,children:t})},blockquote:e=>{let{node:t,...s}=e;return(0,r.jsx)("blockquote",{...s,className:"border-l-4 border-primary pl-4 italic my-4 text-muted-foreground"})}},children:t.fullReview.join("\n\n")}):(0,r.jsx)("p",{className:"italic text-muted-foreground text-center my-12",children:"No review content available."})})})]}),(0,r.jsxs)("div",{className:"lg:hidden flex flex-col overflow-y-auto max-h-[98vh]",children:[(0,r.jsxs)("div",{className:"p-6 pb-4",children:[(0,r.jsxs)("div",{className:"mt-6 mb-6",children:[(0,r.jsx)("h2",{className:"text-3xl font-bold mb-2",children:t.title}),(0,r.jsx)("p",{className:"text-xl mb-6 text-foreground/80",children:t.author})]}),(0,r.jsx)("div",{className:"mb-5",children:(0,r.jsx)("div",{className:"flex flex-wrap gap-1.5",children:t.categories.map(e=>(0,r.jsx)(x,{variant:"outline",className:"text-xs px-2 py-0.5",children:e},e))})}),(0,r.jsx)("div",{className:"mb-5",children:(0,r.jsx)("div",{className:"flex items-center space-x-1",children:Array.from({length:5}).map((e,s)=>(0,r.jsx)(n.A,{className:m("h-4 w-4",s<Math.floor(t.rating)?"fill-foreground text-foreground":s<Math.ceil(t.rating)&&t.rating%1!=0?"fill-foreground/50 text-foreground/50":"fill-muted text-muted-foreground")},s))})}),(0,r.jsx)("div",{className:"mb-3",children:(0,r.jsx)("p",{className:"text-foreground/80",children:t.review})}),(0,r.jsxs)("div",{className:"mb-3",children:[t.lastRead&&(0,r.jsxs)("p",{className:"text-sm text-muted-foreground italic mb-0 leading-tight",children:["Last read: ",_(t.lastRead)]}),t.publishDate&&(0,r.jsxs)("p",{className:"text-sm text-muted-foreground italic leading-tight",children:["Reviewed: ",_(t.publishDate)]})]}),(0,r.jsx)("div",{className:"mb-3 border-b border-muted pb-3",children:(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsxs)(C,{variant:"outline",size:"sm",className:"h-8 w-8 p-0 rounded-full",onClick:S,title:"Share on X.com",children:[(0,r.jsx)(L,{}),(0,r.jsx)("span",{className:"sr-only",children:"Share on X"})]}),(0,r.jsxs)(C,{variant:"outline",size:"sm",className:"h-8 w-8 p-0 rounded-full",onClick:z,title:"Share by email",children:[(0,r.jsx)(g.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Share by email"})]}),(0,r.jsxs)(C,{variant:"outline",size:"sm",className:m("h-8 w-8 p-0 rounded-full transition-colors",d&&"bg-primary text-primary-foreground"),onClick:M,title:"Copy link",children:[(0,r.jsx)(b.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Copy link"})]})]})})]}),(0,r.jsxs)("div",{className:"px-6 pt-1 pb-6",ref:w,children:[(0,r.jsx)("div",{className:"book-content prose dark:prose-invert max-w-none prose-ul:my-2 prose-li:my-1 prose-li:leading-normal",children:t.preRenderedContent?(0,r.jsx)("div",{dangerouslySetInnerHTML:{__html:t.preRenderedContent}}):t.fullReview?(0,r.jsx)(j.oz,{remarkPlugins:[y.A],rehypePlugins:[v.A,N.A],components:{a:e=>{let{node:t,href:s,...a}=e;if((null==s?void 0:s.startsWith("/books/"))||(null==s?void 0:s.startsWith("/?books="))){let e=s.startsWith("/books/")?"/?books=".concat(s.replace("/books/","")):s;return(0,r.jsx)(k(),{href:e,className:"text-[#5C14A4] dark:text-[#9747FF] hover:underline font-medium italic",...a})}return(0,r.jsx)("a",{href:s,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",...a})},details:e=>{let{node:t,...s}=e;return(0,r.jsx)("details",{className:"my-4 border border-border rounded-lg",...s})},summary:e=>{let{node:t,children:s,...a}=e;return(0,r.jsx)("summary",{className:"p-4 cursor-pointer hover:bg-muted/50 font-medium flex items-center",...a,children:(0,r.jsx)("div",{className:"inline",children:(0,r.jsx)(j.oz,{remarkPlugins:[y.A],components:{p:e=>{let{children:t}=e;return(0,r.jsx)(r.Fragment,{children:t})}},children:String(s).replace(/[▼▶]/g,"")})})})},p:e=>{let{children:t}=e;return"..."===String(t).trim()?(0,r.jsx)("div",{className:"my-6 text-center text-muted-foreground text-lg tracking-wider",children:"\xb7\xb7\xb7"}):(0,r.jsx)("p",{className:"my-4",children:t})},h1:e=>{let{node:t,...s}=e;return(0,r.jsx)("h1",{...s,className:"text-2xl font-bold mt-8 mb-4"})},h2:e=>{let{node:t,...s}=e;return(0,r.jsx)("h2",{...s,className:"text-xl font-bold mt-6 mb-3"})},h3:e=>{let{node:t,...s}=e;return(0,r.jsx)("h3",{...s,className:"text-lg font-bold mt-4 mb-2"})},ul:e=>{let{node:t,...s}=e;return(0,r.jsx)("ul",{...s,className:"list-disc pl-6 my-4 text-foreground marker:text-foreground [&_ul]:mt-1 [&_ul]:mb-1"})},ol:e=>{let{node:t,...s}=e;return(0,r.jsx)("ol",{...s,className:"list-decimal pl-6 my-4 text-foreground marker:text-foreground [&_ol]:mt-1 [&_ol]:mb-1"})},code:e=>{let{children:t,className:s,...a}=e;return/language-(\w+)/.exec(s||"")?(0,r.jsx)("code",{className:"block bg-muted p-4 rounded-lg my-4 overflow-x-auto",...a,children:t}):(0,r.jsx)("code",{className:"bg-muted px-1.5 py-0.5 rounded text-sm",...a,children:t})},blockquote:e=>{let{node:t,...s}=e;return(0,r.jsx)("blockquote",{...s,className:"border-l-4 border-primary pl-4 italic my-4 text-muted-foreground"})}},children:t.fullReview.join("\n\n")}):(0,r.jsx)("p",{className:"italic text-muted-foreground text-center my-12",children:"No review content available."})}),(0,r.jsx)("div",{className:"flex justify-center mt-2 pb-1",children:(0,r.jsx)(o.default,{src:"/delta_logo.png",alt:"Publisher logo",width:32,height:32,className:"rounded-full"})})]})]})]})]}):null}function M(e){let{books:t,selectedCategory:s="all",activeSort:o="date-desc"}=e,[n,i]=(0,a.useState)(null),c=(0,l.useRouter)(),d=(0,l.useSearchParams)(),m=e=>e.toLowerCase().replace(/[^\w\s-]/g,"").replace(/[\s_]+/g,"-"),u=(e,t)=>e.some(e=>{let s=e.toLowerCase();return t.some(e=>s.includes(e.toLowerCase()))}),x=(0,a.useMemo)(()=>{if("all"===s)return t;switch(s){case"fiction":return t.filter(e=>u(e.categories,["fiction"]));case"biography":return t.filter(e=>u(e.categories,["biography","autobiography","memoir"]));case"stem":return t.filter(e=>u(e.categories,["statistics","software","science","energy","math","mathematics","engineering","technology"]));case"rationality-ai":return t.filter(e=>u(e.categories,["rationality","ai","artificial intelligence","decision making","cognitive science"]));case"history":return t.filter(e=>u(e.categories,["history"]));case"society":return t.filter(e=>u(e.categories,["society","politics","geopolitics","economics","religion","social"]));case"philosophy-literature":return t.filter(e=>u(e.categories,["philosophy","literature","poetry","criticism","mythology","classics"]));case"psychology-self-help":return t.filter(e=>u(e.categories,["psychology","self help","self-help","mental health","personal development"]));case"finance-trading":return t.filter(e=>u(e.categories,["finance","trading","investment","money"]));case"business-startups":return t.filter(e=>u(e.categories,["business","startup","entrepreneurship","management","leadership"]));case"textbooks":return t.filter(e=>u(e.categories,["textbook"]));default:return t.filter(e=>e.categories.some(e=>e.toLowerCase().includes(s.toLowerCase())))}},[t,s]),h=(0,a.useMemo)(()=>{let e=[...x];if(o.startsWith("random-")){let t=d.get("seed");if(t)return function(e,t){var s;let r=[...e],a=(s=t,function(){let e=s+=0x6d2b79f5;return e=Math.imul(e^e>>>15,1|e),(((e^=e+Math.imul(e^e>>>7,61|e))^e>>>14)>>>0)/0x100000000});for(let e=r.length-1;e>0;e--){let t=Math.floor(a()*(e+1));[r[e],r[t]]=[r[t],r[e]]}return r}(e,parseInt(t,10))}switch(o){case"date-desc":default:return e.sort((e,t)=>new Date(t.publishDate).getTime()-new Date(e.publishDate).getTime());case"date-asc":return e.sort((e,t)=>new Date(e.publishDate).getTime()-new Date(t.publishDate).getTime());case"title-asc":return e.sort((e,t)=>e.title.localeCompare(t.title));case"title-desc":return e.sort((e,t)=>t.title.localeCompare(e.title));case"author-asc":return e.sort((e,t)=>e.author.localeCompare(t.author));case"author-desc":return e.sort((e,t)=>t.author.localeCompare(e.author));case"rating-desc":return e.sort((e,t)=>t.rating-e.rating);case"rating-asc":return e.sort((e,t)=>e.rating-t.rating)}},[x,o,d]),p=e=>t.find(t=>m(t.title)===e),g=e=>{let t=m(e.title),s=new URLSearchParams;s.set("books",t);let r=d.get("category");r&&s.set("category",r);let a=d.get("sort");a&&s.set("sort",a);let l=d.get("seed");l&&s.set("seed",l),c.push("/?".concat(s.toString()),{scroll:!1}),i(e)};return(0,a.useEffect)(()=>{let e=d.get("books");if(e){let t=p(e);t&&i(t)}else i(null)},[d,t]),(0,r.jsxs)(r.Fragment,{children:[0===h.length?(0,r.jsx)("div",{className:"text-center py-10",children:(0,r.jsx)("p",{className:"text-xl text-muted-foreground",children:"No books found in this category."})}):(0,r.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-6",children:h.map(e=>(0,r.jsx)(f,{book:e,onClick:g},e.id))}),(0,r.jsx)(z,{book:n,onClose:()=>{let e=new URLSearchParams,t=d.get("category");t&&e.set("category",t);let s=d.get("sort");s&&e.set("sort",s);let r=d.get("seed");r&&e.set("seed",r);let a=e.toString()?"/?".concat(e.toString()):"/";c.push(a,{scroll:!1}),i(null)}})]})}var P=s(1988),D=s(5825),F=s(3778),E=s(6220),T=s(23),U=s(9500),H=s(7394),I=s(317),B=s(7491),Z=s(4926),W=s(8943),V=s(8772);let q=[{id:"all",name:"All Books",icon:P.A},{id:"fiction",name:"Fiction",icon:D.A},{id:"biography",name:"Biography",icon:F.A},{id:"stem",name:"STEM",icon:E.A},{id:"rationality-ai",name:"Rationality & AI",icon:T.A},{id:"history",name:"History",icon:U.A},{id:"society",name:"Society",icon:H.A},{id:"philosophy-literature",name:"Philosophy & Literature",icon:I.A},{id:"psychology-self-help",name:"Psychology & Self Help",icon:B.A},{id:"finance-trading",name:"Finance & Trading",icon:Z.A},{id:"business-startups",name:"Business & Startups",icon:W.A},{id:"textbooks",name:"Textbooks",icon:V.A}];function X(e){let{onCategoryChange:t}=e,s=(0,l.useRouter)(),o=(0,l.useSearchParams)(),[n,i]=(0,a.useState)("all"),c=(0,a.useRef)(!1);(0,a.useEffect)(()=>{if(c.current){c.current=!1;return}let e=o.get("category"),s=e&&q.some(t=>t.id===e)?e:"all";i(s),t&&t(s)},[o,t]);let d=e=>{c.current=!0,i(e),t&&t(e);let r=new URLSearchParams;"all"!==e&&r.set("category",e);let a=o.get("books");a&&r.set("books",a);let l=o.get("sort");l&&r.set("sort",l);let n=o.get("seed");n&&r.set("seed",n);let d=r.toString()?"/?".concat(r.toString()):"/";s.push(d,{scroll:!1})};return(0,r.jsx)("div",{className:"mb-6 overflow-x-auto pb-2",children:(0,r.jsx)("div",{className:"flex flex-wrap gap-2 justify-center",children:q.map(e=>{let t=e.icon;return(0,r.jsxs)("button",{className:m("px-4 py-2 text-sm border rounded-md transition-colors flex items-center gap-2",n===e.id?"border-[#5C14A4] dark:border-[#9747FF] text-[#5C14A4] dark:text-[#9747FF] bg-foreground/5 font-medium":"border-border bg-background hover:bg-foreground/5"),onClick:()=>d(e.id),children:[(0,r.jsx)(t,{className:"h-4 w-4"}),e.name]},e.id)})})})}var O=s(9407),J=s(4571),Y=s(9118),G=s(6368),$=s(6362),K=s(5856),Q=s(367),ee=s(8443),et=s(3061);let es=K.bL,er=K.l9;K.YJ,K.ZL,K.Pb,K.z6,a.forwardRef((e,t)=>{let{className:s,inset:a,children:l,...o}=e;return(0,r.jsxs)(K.ZP,{ref:t,className:m("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",a&&"pl-8",s),...o,children:[l,(0,r.jsx)(Q.A,{className:"ml-auto"})]})}).displayName=K.ZP.displayName,a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(K.G5,{ref:t,className:m("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...a})}).displayName=K.G5.displayName;let ea=a.forwardRef((e,t)=>{let{className:s,sideOffset:a=4,...l}=e;return(0,r.jsx)(K.ZL,{children:(0,r.jsx)(K.UC,{ref:t,sideOffset:a,className:m("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...l})})});ea.displayName=K.UC.displayName;let el=a.forwardRef((e,t)=>{let{className:s,inset:a,...l}=e;return(0,r.jsx)(K.q7,{ref:t,className:m("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",a&&"pl-8",s),...l})});el.displayName=K.q7.displayName,a.forwardRef((e,t)=>{let{className:s,children:a,checked:l,...o}=e;return(0,r.jsxs)(K.H_,{ref:t,className:m("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),checked:l,...o,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(K.VF,{children:(0,r.jsx)(ee.A,{className:"h-4 w-4"})})}),a]})}).displayName=K.H_.displayName,a.forwardRef((e,t)=>{let{className:s,children:a,...l}=e;return(0,r.jsxs)(K.hN,{ref:t,className:m("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...l,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(K.VF,{children:(0,r.jsx)(et.A,{className:"h-2 w-2 fill-current"})})}),a]})}).displayName=K.hN.displayName;let eo=a.forwardRef((e,t)=>{let{className:s,inset:a,...l}=e;return(0,r.jsx)(K.JU,{ref:t,className:m("px-2 py-1.5 text-sm font-semibold",a&&"pl-8",s),...l})});eo.displayName=K.JU.displayName,a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(K.wv,{ref:t,className:m("-mx-1 my-1 h-px bg-muted",s),...a})}).displayName=K.wv.displayName;let en=[{id:"date",name:"Date",icon:O.A,ascName:"Oldest first",descName:"Recent first"},{id:"title",name:"Title",icon:J.A,ascName:"A-Z",descName:"Z-A"},{id:"author",name:"Author",icon:F.A,ascName:"A-Z",descName:"Z-A"},{id:"rating",name:"Rating",icon:n.A,ascName:"Lowest first",descName:"Highest first"},{id:"random",name:"Random",icon:Y.A,ascName:"Random",descName:"Random"}];function ei(e){let{onSortChange:t}=e,s=(0,l.useRouter)(),o=(0,l.useSearchParams)(),[n,i]=(0,a.useState)("date"),[c,d]=(0,a.useState)("desc");(0,a.useEffect)(()=>{let e=o.get("sort"),t="date",s="desc";if(e){let[r,a]=e.split("-");en.some(e=>e.id===r)?(i(r),d(a||s)):(i(t),d(s))}else i(t),d(s)},[o]);let u=e=>{if(e===n){let t="asc"===c?"desc":"asc";d(t),x(e,t)}else{let t="rating"===e?"desc":"random"===e?"asc":"desc";i(e),d(t),x(e,t)}},x=(e,r)=>{let a="".concat(e,"-").concat(r),l=new URLSearchParams(o.toString());if(l.set("sort",a),"random"===e){if(!l.has("seed")){let e=Math.floor(1e6*Math.random());l.set("seed",String(e))}}else l.delete("seed");s.push("/?".concat(l.toString()),{scroll:!1}),t&&t(a)},h=(0,a.useMemo)(()=>en.find(e=>e.id===n)||en[0],[n]),f="asc"===c?G.A:$.A;return(0,r.jsxs)(es,{children:[(0,r.jsx)(er,{asChild:!0,children:(0,r.jsxs)(C,{variant:"ghost",className:m("min-w-[150px] justify-between rounded-full shadow-sm hover:shadow-md transition-all bg-foreground/5","random"===n&&"bg-foreground/10 font-medium"),children:[(0,r.jsxs)("span",{className:"flex items-center gap-2",children:[(0,r.jsx)(h.icon,{className:"h-4 w-4"}),h.name]}),(0,r.jsx)(f,{className:"h-4 w-4"})]})}),(0,r.jsxs)(ea,{align:"end",className:"w-56",children:[(0,r.jsx)(eo,{children:"Sort by"}),en.map(e=>{let t=e.icon,s=n===e.id,a=s&&"asc"===c?G.A:$.A;return(0,r.jsxs)(el,{className:m("flex items-center justify-between px-3 py-2 cursor-pointer",s&&"bg-accent"),onClick:()=>u(e.id),children:[(0,r.jsxs)("span",{className:"flex items-center gap-2",children:[(0,r.jsx)(t,{className:"h-4 w-4 text-muted-foreground"}),(0,r.jsx)("span",{children:e.name})]}),s&&(0,r.jsx)(a,{className:"h-4 w-4"})]},e.id)})]})]})}function ec(e){let{onShuffle:t}=e,s=(0,l.useRouter)(),a=(0,l.useSearchParams)();return(0,r.jsxs)(C,{variant:"ghost",onClick:()=>{let e=Math.floor(1e6*Math.random()),r=new URLSearchParams(a.toString());r.set("sort","random-asc"),r.set("seed",String(e)),s.push("/?".concat(r.toString()),{scroll:!1}),t&&t()},className:"flex items-center justify-center gap-2 rounded-full shadow-sm hover:shadow-md transition-all bg-foreground/5","aria-label":"Shuffle books",title:"Randomly shuffle books",children:[(0,r.jsx)(Y.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{children:"Shuffle"})]})}var ed=s(805),em=s(8720),eu=s(1213),ex=s(8818);function eh(){let{setTheme:e,theme:t}=(0,ex.D)();return(0,r.jsxs)(es,{children:[(0,r.jsx)(er,{asChild:!0,children:(0,r.jsxs)(C,{variant:"ghost",size:"icon",className:"h-8 w-8 px-0",children:[(0,r.jsx)(ed.A,{className:"h-4 w-4 rotate-0 scale-100 transition-transform dark:rotate-90 dark:scale-0"}),(0,r.jsx)(em.A,{className:"absolute h-4 w-4 rotate-90 scale-0 transition-transform dark:rotate-0 dark:scale-100"}),(0,r.jsx)(eu.A,{className:"absolute h-4 w-4 rotate-90 scale-0 transition-transform data-[state=system]:rotate-0 data-[state=system]:scale-100"}),(0,r.jsx)("span",{className:"sr-only",children:"Toggle theme"})]})}),(0,r.jsxs)(ea,{align:"end",children:[(0,r.jsxs)(el,{onClick:()=>e("light"),children:[(0,r.jsx)(ed.A,{className:"mr-2 h-4 w-4"}),(0,r.jsx)("span",{children:"Light"})]}),(0,r.jsxs)(el,{onClick:()=>e("dark"),children:[(0,r.jsx)(em.A,{className:"mr-2 h-4 w-4"}),(0,r.jsx)("span",{children:"Dark"})]}),(0,r.jsxs)(el,{onClick:()=>e("system"),children:[(0,r.jsx)(eu.A,{className:"mr-2 h-4 w-4"}),(0,r.jsx)("span",{children:"System"})]})]})]})}var ef=s(8399);function ep(){return(0,r.jsx)("header",{className:"border-b bg-background backdrop-blur-sm relative z-0",children:(0,r.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,r.jsxs)("div",{className:"flex flex-col space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)(o.default,{src:"/delta_logo.png",alt:"Logo",width:36,height:36,className:"rounded-full"}),(0,r.jsx)("h1",{className:"text-4xl font-bold tracking-tight",children:"Robert's Book Reviews"})]}),(0,r.jsxs)("nav",{className:"flex items-center space-x-4 text-sm",children:[(0,r.jsxs)(k(),{href:"/rss.xml",className:"hover:text-primary flex items-center gap-1",title:"RSS Feed",target:"_blank",rel:"noopener noreferrer",children:[(0,r.jsx)(ef.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"RSS"})]}),(0,r.jsx)(eh,{})]})]}),(0,r.jsx)("div",{className:"text-muted-foreground max-w-3xl",children:(0,r.jsx)("p",{children:"This is a collection of my book reviews and highlights."})})]})})})}function eg(e){let{books:t}=e,[s,o]=(0,a.useState)("all"),[n,i]=(0,a.useState)("date-desc"),c=(0,l.useSearchParams)();return(0,a.useEffect)(()=>{let e=c.get("category");e&&q.some(t=>t.id===e)&&o(e);let t=c.get("sort");t&&i(t)},[c]),(0,r.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,r.jsx)(ep,{}),(0,r.jsxs)("main",{className:"container mx-auto px-4 py-8 md:py-12 relative z-0",children:[(0,r.jsx)("div",{className:"max-w-7xl mx-auto mb-8",children:(0,r.jsxs)("div",{className:"flex flex-col mb-8",children:[(0,r.jsx)("div",{className:"w-full overflow-x-auto",children:(0,r.jsx)(X,{onCategoryChange:e=>{o(e)}})}),(0,r.jsxs)("div",{className:"flex items-center gap-2 justify-end -mt-5",children:[(0,r.jsx)(ec,{onShuffle:()=>{i("random-asc")}}),(0,r.jsx)(ei,{onSortChange:e=>{i(e)}})]})]})}),(0,r.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,r.jsx)(M,{books:t,selectedCategory:s,activeSort:n})})]}),(0,r.jsx)("footer",{className:"border-t py-8 mt-16",children:(0,r.jsx)("div",{className:"container mx-auto px-4 text-sm text-muted-foreground",children:(0,r.jsxs)("p",{children:["\xa9 ",new Date().getFullYear()," Robert's Book Reviews. All rights reserved. Views are my own and do not reflect the views of my employer."]})})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[632,823,251,358],()=>t(8307)),_N_E=e.O()}]);